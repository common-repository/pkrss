pkrss.cls.apNewsType=function(){this.model=null;this.data=[{ns:"pkrss.model.newstype.newspaper.masonry",name:"newspaper",src:pkrss.ajax.pkurlresurlpath+"js/newspaper/modelview/newstype_newspaper_masonry.js",title:"News paper"},,{ns:"pkrss.model.newstype.newspaper.briefnews",name:"briefnews",src:pkrss.ajax.pkurlresurlpath+"js/newspaper/modelview/newstype_newspaper_briefnews.js",title:"News lines"},{ns:"pkrss.model.newstype.newspaper.image3d",name:"imagenews3d",src:pkrss.ajax.pkurlresurlpath+"js/newspaper/modelview/newstype_newspaper_image3d.js",title:"3D images"},{ns:"pkrss.model.newstype.newspaper.media",name:"media",src:pkrss.ajax.pkurlresurlpath+"js/newspaper/modelview/newstype_newspaper_media.js",title:"Media"}];this.init()};pkrss.cls.apNewsType.prototype.init=function(){this.model=pkrss.model.newstype.module;var a='<div id="tool_right_pane_item_newstype_con" class="tool_float_pane_container pkfollowright" style="position:absolute;top:0;">		<ul id="pk_ul_newsmodule" class="ul_customstyle">		</ul>	</div>';pkrss.q("#plugin_container").append(a);pkrss.modelview.rightpanel.floatpanel(pkrss.q("#tool_right_pane_item_newstype"),"_con","tool_right_pane_li_a_sel")};pkrss.cls.apNewsType.prototype.switchShow=function(a){var b=pkrss.q("#navitem_newsmodule");if(a){this.setup_ico();b.show()}else{b.hide()}};pkrss.cls.apNewsType.prototype.setup_ico=function(){var c;var b="";for(var a in this.data){c=this.data[a];b+='<li id="pk_ul_newsmodule_li_'+c.name+'"';if(!pkrss.getObjFromNamespace(c.ns)){b+=' class="pkhalftransparent"'}b+='><a href="#" onclick="return pkrss.controller.newstype.changemodule(\''+c.name+'\');" title="'+pkgetLocaleString("Switch mode:")+pkgetLocaleString(c.title)+'"><span class="pkico pkico-common pkico-nenwsmodule pkico-nenwsmodule-'+c.name+'"></span></a></li>'}pkrss.q("#pk_ul_newsmodule").html(b)};pkrss.cls.apNewsType.prototype.getitem=function(a){var c;for(var b in this.data){c=this.data[b];if(c.name==a){return c}}return null};pkrss.cls.apNewsType.prototype.changemodule=function(a){var c=pkrss.q("#pk_ul_newsmodule_li_"+a);pkrss.q(".pk_ul_newsmodule_li_sel").removeClass("pk_ul_newsmodule_li_sel");c.addClass("pk_ul_newsmodule_li_sel");if(c.hasClass("pkhalftransparent")){c.removeClass("pkhalftransparent");var b=this.getitem(a);self=this;pkrss.utils.html.loadPlateformJs([{ns:b.ns,src:b.src}],function(e){if(!e){return}var d=pkrss.getObjFromNamespace(b.ns);d.init(pkrss.model.rssitem,pkrss.q("#container"));b=null;self=null})}else{this.model.changemodule(a)}return false};pkrss.define("pkrss.controller",{newstype:new pkrss.cls.apNewsType()});