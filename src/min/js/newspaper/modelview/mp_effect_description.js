if(!pkrsslib.userdata.effectdescription){var desc_max_len=256;function trunkworker(a){a.each(function(){var c=pkrss.q(this);var e=c.text().replace("'","'");var b=e.length;if(b>desc_max_len){c.text(e.substring(0,desc_max_len));if(false&&b-desc_max_len<100){c.append('<a href="#" title="'+e.substring(desc_max_len)+'">...</a>')}else{var d=c.siblings(".rss_title").text().replace("'","'");c.append('<a href="#" onclick="return pkrsslib.userdata.effectdescription.onMoreDescriptionClick(this);" data-text="'+e+'" data-title="'+d+'" title="'+e.substring(desc_max_len,100)+'">...</a>')}}})}function briefdescription(){pkrsslib.ui._loadimpromptu(this.init)}briefdescription.prototype.init=function(){trunkworker(pkrss.q("#content").find(".rss_desc"));pkrsslib.event.bind(pkrss2.event.newsItemAppend,function(b){var a=b.pk.data;if(!a||!a.length){return}var c=a.find(".rss_desc");trunkworker(c)})};pkrsslib.userdata.effectdescription={init:function(){new briefdescription()},onMoreDescriptionClick:function(a){a=pkrss.q(a);jQuery.prompt(a.data("text"),{title:a.data("title")});return false}};pkrsslib.userdata.effectdescription.init()};