/*!
 * EventEmitter v4.1.0 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(b){function e(){}var d=e.prototype,a=Array.prototype.indexOf?true:false;function c(h,g){if(a){return g.indexOf(h)}var f=g.length;while(f--){if(g[f]===h){return f}}return -1}d._getEvents=function(){return this._events||(this._events={})};d.getListeners=function(f){var i=this._getEvents(),g,h;if(typeof f==="object"){g={};for(h in i){if(i.hasOwnProperty(h)&&f.test(h)){g[h]=i[h]}}}else{g=i[f]||(i[f]=[])}return g};d.getListenersAsObject=function(f){var h=this.getListeners(f),g;if(h instanceof Array){g={};g[f]=h}return g||h};d.addListener=function(f,i){var h=this.getListenersAsObject(f),g;for(g in h){if(h.hasOwnProperty(g)&&c(i,h[g])===-1){h[g].push(i)}}return this};d.on=d.addListener;d.defineEvent=function(f){this.getListeners(f);return this};d.defineEvents=function(f){for(var g=0;g<f.length;g+=1){this.defineEvent(f[g])}return this};d.removeListener=function(f,j){var i=this.getListenersAsObject(f),g,h;for(h in i){if(i.hasOwnProperty(h)){g=c(j,i[h]);if(g!==-1){i[h].splice(g,1)}}}return this};d.off=d.removeListener;d.addListeners=function(f,g){return this.manipulateListeners(false,f,g)};d.removeListeners=function(f,g){return this.manipulateListeners(true,f,g)};d.manipulateListeners=function(g,h,k){var j,l,m=g?this.removeListener:this.addListener,f=g?this.removeListeners:this.addListeners;if(typeof h==="object"&&!(h instanceof RegExp)){for(j in h){if(h.hasOwnProperty(j)&&(l=h[j])){if(typeof l==="function"){m.call(this,j,l)}else{f.call(this,j,l)}}}}else{j=k.length;while(j--){m.call(this,h,k[j])}}return this};d.removeEvent=function(f){var i=typeof f,h=this._getEvents(),g;if(i==="string"){delete h[f]}else{if(i==="object"){for(g in h){if(h.hasOwnProperty(g)&&f.test(g)){delete h[g]}}}else{delete this._events}}return this};d.emitEvent=function(f,h){var l=this.getListenersAsObject(f),k,j,g;for(j in l){if(l.hasOwnProperty(j)){k=l[j].length;while(k--){g=h?l[j][k].apply(null,h):l[j][k]();if(g===true){this.removeListener(f,l[j][k])}}}}return this};d.trigger=d.emitEvent;d.emit=function(f){var g=Array.prototype.slice.call(arguments,1);return this.emitEvent(f,g)};if(typeof define==="function"&&define.amd){define(function(){return e})}else{b.EventEmitter=e}}(this));