/*!
 * getStyleProperty by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 */
(function(c){var d="Webkit Moz ms Ms O".split(" ");var b=document.documentElement.style;function a(h){if(!h){return}if(typeof b[h]==="string"){return h}h=h.charAt(0).toUpperCase()+h.slice(1);var f;for(var g=0,e=d.length;g<e;g++){f=d[g]+h;if(typeof b[f]==="string"){return f}}}if(typeof define==="function"&&define.amd){define(function(){return a})}else{c.getStyleProperty=a}})(window);(function(e,g){var c=document.defaultView;var a=c&&c.getComputedStyle?function(i){return c.getComputedStyle(i,null)}:function(i){return i.currentStyle};function d(j){var i=parseFloat(j);var k=j.indexOf("%")===-1&&!isNaN(i);return k&&i}var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function f(){var l={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var k=0,j=b.length;k<j;k++){var m=b[k];l[m]=0}return l}function h(k){var i=k("boxSizing");var j;(function(){if(!i){return}var o=document.createElement("div");o.style.width="200px";o.style.padding="1px 2px 3px 4px";o.style.borderStyle="solid";o.style.borderWidth="1px 2px 3px 4px";o.style[i]="border-box";var m=document.body||document.documentElement;m.appendChild(o);var n=a(o);j=d(n.width)===200;m.removeChild(o)})();function l(B){if(typeof B==="string"){B=document.querySelector(B)}if(!B||typeof B!=="object"||!B.nodeType){return}var z=a(B);if(z.display==="none"){return f()}var s={};s.width=B.offsetWidth;s.height=B.offsetHeight;var A=s.isBorderBox=!!(i&&z[i]&&z[i]==="border-box");for(var w=0,x=b.length;w<x;w++){var u=b[w];var v=z[u];var m=parseFloat(v);s[u]=!isNaN(m)?m:0}var y=s.paddingLeft+s.paddingRight;var r=s.paddingTop+s.paddingBottom;var D=s.marginLeft+s.marginRight;var p=s.marginTop+s.marginBottom;var C=s.borderLeftWidth+s.borderRightWidth;var o=s.borderTopWidth+s.borderBottomWidth;var n=A&&j;var q=d(z.width);if(q!==false){s.width=q+(n?0:y+C)}var t=d(z.height);if(t!==false){s.height=t+(n?0:r+o)}s.innerWidth=s.width-(y+C);s.innerHeight=s.height-(r+o);s.outerWidth=s.width+D;s.outerHeight=s.height+p;return s}return l}if(typeof define==="function"&&define.amd){define(["get-style-property"],h)}else{e.getSize=h(e.getStyleProperty)}})(window);(function(b,i){var g=(function(){if(i.matchesSelector){return"matchesSelector"}var n=["webkit","moz","ms","o"];for(var l=0,k=n.length;l<k;l++){var m=n[l];var o=m+"MatchesSelector";if(i[o]){return o}}})();function e(l,k){return l[g](k)}function h(l){if(l.parentNode){return}var k=document.createDocumentFragment();k.appendChild(l)}function f(o,l){h(o);var m=o.parentNode.querySelectorAll(l);for(var n=0,k=m.length;n<k;n++){if(m[n]===o){return true}}return false}function d(l,k){h(l);return e(l,k)}var j;if(g){var a=document.createElement("div");var c=e(a,"div");j=c?e:d}else{j=f}if(typeof define==="function"&&define.amd){define(function(){return j})}else{window.matchesSelector=j}})(this,Element.prototype);
/*!
 * EventEmitter v4.1.0 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(b){function e(){}var d=e.prototype,a=Array.prototype.indexOf?true:false;function c(h,g){if(a){return g.indexOf(h)}var f=g.length;while(f--){if(g[f]===h){return f}}return -1}d._getEvents=function(){return this._events||(this._events={})};d.getListeners=function(f){var i=this._getEvents(),g,h;if(typeof f==="object"){g={};for(h in i){if(i.hasOwnProperty(h)&&f.test(h)){g[h]=i[h]}}}else{g=i[f]||(i[f]=[])}return g};d.getListenersAsObject=function(f){var h=this.getListeners(f),g;if(h instanceof Array){g={};g[f]=h}return g||h};d.addListener=function(f,i){var h=this.getListenersAsObject(f),g;for(g in h){if(h.hasOwnProperty(g)&&c(i,h[g])===-1){h[g].push(i)}}return this};d.on=d.addListener;d.defineEvent=function(f){this.getListeners(f);return this};d.defineEvents=function(f){for(var g=0;g<f.length;g+=1){this.defineEvent(f[g])}return this};d.removeListener=function(f,j){var i=this.getListenersAsObject(f),g,h;for(h in i){if(i.hasOwnProperty(h)){g=c(j,i[h]);if(g!==-1){i[h].splice(g,1)}}}return this};d.off=d.removeListener;d.addListeners=function(f,g){return this.manipulateListeners(false,f,g)};d.removeListeners=function(f,g){return this.manipulateListeners(true,f,g)};d.manipulateListeners=function(g,h,k){var j,l,m=g?this.removeListener:this.addListener,f=g?this.removeListeners:this.addListeners;if(typeof h==="object"&&!(h instanceof RegExp)){for(j in h){if(h.hasOwnProperty(j)&&(l=h[j])){if(typeof l==="function"){m.call(this,j,l)}else{f.call(this,j,l)}}}}else{j=k.length;while(j--){m.call(this,h,k[j])}}return this};d.removeEvent=function(f){var i=typeof f,h=this._getEvents(),g;if(i==="string"){delete h[f]}else{if(i==="object"){for(g in h){if(h.hasOwnProperty(g)&&f.test(g)){delete h[g]}}}else{delete this._events}}return this};d.emitEvent=function(f,h){var l=this.getListenersAsObject(f),k,j,g;for(j in l){if(l.hasOwnProperty(j)){k=l[j].length;while(k--){g=h?l[j][k].apply(null,h):l[j][k]();if(g===true){this.removeListener(f,l[j][k])}}}}return this};d.trigger=d.emitEvent;d.emit=function(f){var g=Array.prototype.slice.call(arguments,1);return this.emitEvent(f,g)};if(typeof define==="function"&&define.amd){define(function(){return e})}else{b.EventEmitter=e}}(this));
/*!
 * eventie v1.0.3
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(d){var a=document.documentElement;var e=function(){};if(a.addEventListener){e=function(h,g,f){h.addEventListener(g,f,false)}}else{if(a.attachEvent){e=function(h,g,f){h[g+f]=f.handleEvent?function(){var i=d.event;i.target=i.target||i.srcElement;f.handleEvent.call(f,i)}:function(){var i=d.event;i.target=i.target||i.srcElement;f.call(h,i)};h.attachEvent("on"+g,h[g+f])}}}var c=function(){};if(a.removeEventListener){c=function(h,g,f){h.removeEventListener(g,f,false)}}else{if(a.detachEvent){c=function(i,g,f){i.detachEvent("on"+g,i[g+f]);try{delete i[g+f]}catch(h){i[g+f]=undefined}}}}var b={bind:e,unbind:c};if(typeof define==="function"&&define.amd){define(b)}else{d.eventie=b}})(this);
/*!
 * docReady
 * Cross browser DOMContentLoaded event emitter
 */
(function(d){var b=d.document;var a=[];function c(g){if(typeof g!=="function"){return}if(c.isReady){g()}else{a.push(g)}}c.isReady=false;function f(l){var k=l.type==="readystatechange"&&b.readyState!=="complete";if(c.isReady||k){return}c.isReady=true;for(var h=0,g=a.length;h<g;h++){var j=a[h];j()}}function e(g){g.bind(b,"DOMContentLoaded",f);g.bind(b,"readystatechange",f);g.bind(d,"load",f);return c}if(typeof define==="function"&&define.amd){define(["eventie"],e)}else{d.docReady=e(d.eventie)}})(this);(function(c){var b=document.defaultView;var a=b&&b.getComputedStyle?function(f){return b.getComputedStyle(f,null)}:function(f){return f.currentStyle};function e(g,f){for(var h in f){g[h]=f[h]}return g}function d(r,q,i){var p=i("transition");var m=i("transform");var n=p&&m;var k=!!i("perspective");var f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[p];var j=["transform","transition","transitionDuration","transitionProperty"];var o=(function(){var t={};for(var u=0,s=j.length;u<s;u++){var w=j[u];var v=i(w);if(v&&v!==w){t[w]=v}}return t})();function h(s,t){if(!s){return}this.element=s;this.layout=t;this.position={x:0,y:0};this._create()}e(h.prototype,r.prototype);h.prototype._create=function(){this.css({position:"absolute"})};h.prototype.handleEvent=function(s){var t="on"+s.type;if(this[t]){this[t](s)}};h.prototype.getSize=function(){this.size=q(this.element)};h.prototype.css=function(u){var s=this.element.style;for(var v in u){var t=o[v]||v;s[t]=u[v]}};h.prototype.getPosition=function(){var v=a(this.element);var t=this.layout.options;var A=t.isOriginLeft;var z=t.isOriginTop;var s=parseInt(v[A?"left":"right"],10);var w=parseInt(v[z?"top":"bottom"],10);s=isNaN(s)?0:s;w=isNaN(w)?0:w;var u=this.layout.size;s-=A?u.paddingLeft:u.paddingRight;w-=z?u.paddingTop:u.paddingBottom;this.position.x=s;this.position.y=w};h.prototype.layoutPosition=function(){var t=this.layout.size;var s=this.layout.options;var u={};if(s.isOriginLeft){u.left=(this.position.x+t.paddingLeft)+"px";u.right=""}else{u.right=(this.position.x+t.paddingRight)+"px";u.left=""}if(s.isOriginTop){u.top=(this.position.y+t.paddingTop)+"px";u.bottom=""}else{u.bottom=(this.position.y+t.paddingBottom)+"px";u.top=""}this.css(u);this.emitEvent("layout",[this])};var g=k?function(s,t){return"translate3d("+s+"px, "+t+"px, 0)"}:function(s,t){return"translate("+s+"px, "+t+"px)"};h.prototype._transitionTo=function(D,C){this.getPosition();var t=this.position.x;var s=this.position.y;var B=parseInt(D,10);var A=parseInt(C,10);var z=B===this.position.x&&A===this.position.y;this.setPosition(D,C);if(z&&!this.isTransitioning){this.layoutPosition();return}var w=D-t;var v=C-s;var u={};var E=this.layout.options;w=E.isOriginLeft?w:-w;v=E.isOriginTop?v:-v;u.transform=g(w,v);this.transition({to:u,onTransitionEnd:this.layoutPosition,isCleaning:true})};h.prototype.goTo=function(s,t){this.setPosition(s,t);this.layoutPosition()};h.prototype.moveTo=n?h.prototype._transitionTo:h.prototype.goTo;h.prototype.setPosition=function(s,t){this.position.x=parseInt(s,10);this.position.y=parseInt(t,10)};h.prototype._nonTransition=function(s){this.css(s.to);if(s.isCleaning){this._removeStyles(s.to)}if(s.onTransitionEnd){s.onTransitionEnd.call(this)}};h.prototype._transition=function(u){var s=this.layout.options.transitionDuration;if(!parseFloat(s)){this._nonTransition(u);return}var x=u.to;var w=[];for(var y in x){w.push(y)}var t={};t.transitionProperty=w.join(",");t.transitionDuration=s;this.element.addEventListener(f,this,false);if(u.isCleaning||u.onTransitionEnd){this.on("transitionEnd",function(z){if(u.isCleaning){z._removeStyles(x)}if(u.onTransitionEnd){u.onTransitionEnd.call(z)}return true})}if(u.from){this.css(u.from);var v=this.element.offsetHeight;v=null}this.css(t);this.css(x);this.isTransitioning=true};h.prototype.transition=h.prototype[p?"_transition":"_nonTransition"];h.prototype.onwebkitTransitionEnd=function(s){this.ontransitionend(s)};h.prototype.onotransitionend=function(s){this.ontransitionend(s)};h.prototype.ontransitionend=function(s){if(s.target!==this.element){return}this.removeTransitionStyles();this.element.removeEventListener(f,this,false);this.isTransitioning=false;this.emitEvent("transitionEnd",[this])};h.prototype._removeStyles=function(t){var s={};for(var u in t){s[u]=""}this.css(s)};var l={transitionProperty:"",transitionDuration:""};h.prototype.removeTransitionStyles=function(){this.css(l)};h.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};h.prototype.remove=p?function(){var s=this;this.on("transitionEnd",function(){s.removeElem();return true});this.hide()}:h.prototype.removeElem;h.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var s=this.layout.options;this.transition({from:s.hiddenStyle,to:s.visibleStyle,isCleaning:true})};h.prototype.hide=function(){this.isHidden=true;this.css({display:""});var s=this.layout.options;this.transition({from:s.visibleStyle,to:s.hiddenStyle,isCleaning:true,onTransitionEnd:function(){this.css({display:"none"})}})};h.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return h}if(typeof define==="function"&&define.amd){define(["eventEmitter","get-size","get-style-property"],d)}else{c.Outlayer={};c.Outlayer.Item=d(c.EventEmitter,c.getSize,c.getStyleProperty)}})(window);
/*!
 * Outlayer v1.0.0
 * the brains and guts of a layout library
 */
(function(f){var i=f.document;var c=f.console;var n=f.jQuery;var m=function(){};function h(q,p){for(var r in p){q[r]=p[r]}return q}var o=Object.prototype.toString;function d(p){return o.call(p)==="[object Array]"}function a(s){var r=[];if(d(s)){r=s}else{if(typeof s.length==="number"){for(var q=0,p=s.length;q<p;q++){r.push(s[q])}}else{r.push(s)}}return r}var g=(typeof HTMLElement==="object")?function e(p){return p instanceof HTMLElement}:function b(p){return p&&typeof p==="object"&&p.nodeType===1&&typeof p.nodeName==="string"};var j=Array.prototype.indexOf?function(p,q){return p.indexOf(q)}:function(r,s){for(var q=0,p=r.length;q<p;q++){if(r[q]===s){return q}}return -1};function k(p){return p.replace(/(.)([A-Z])/g,function(r,q,s){return q+"-"+s}).toLowerCase()}function l(t,w,q,y,x,z,r){var u=0;var p={};function s(B,A){if(typeof B==="string"){B=i.querySelector(B)}if(!B||!g(B)){if(c){c.error("Bad "+this.settings.namespace+" element: "+B)}return}this.element=B;this.options=h({},this.options);h(this.options,A);var C=++u;this.element.outlayerGUID=C;p[C]=this;this._create();if(this.options.isInitLayout){this.layout()}}s.prototype.settings={namespace:"outlayer",item:r};s.prototype.options={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};h(s.prototype,y.prototype);s.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);h(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};s.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)};s.prototype._getItems=function(C){var F=this._filterFindItemElements(C);var D=this.settings.item;var B=[];for(var E=0,A=F.length;E<A;E++){var H=F[E];var G=new D(H,this,this.options.itemOptions);B.push(G)}return B};s.prototype._filterFindItemElements=function(A){A=a(A);var B=this.options.itemSelector;if(!B){return A}var F=[];for(var E=0,G=A.length;E<G;E++){var C=A[E];if(z(C,B)){F.push(C)}var H=C.querySelectorAll(B);for(var D=0,I=H.length;D<I;D++){F.push(H[D])}}return F};s.prototype.getItemElements=function(){var B=[];for(var C=0,A=this.items.length;C<A;C++){B.push(this.items[C].element)}return B};s.prototype.layout=function(){this._resetLayout();this._manageStamps();var A=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,A);this._isLayoutInited=true};s.prototype._init=s.prototype.layout;s.prototype._resetLayout=function(){this.getSize()};s.prototype.getSize=function(){this.size=x(this.element)};s.prototype._getMeasurement=function(C,A){var B=this.options[C];var D;if(!B){this[C]=0}else{if(typeof B==="string"){D=this.element.querySelector(B)}else{if(g(B)){D=B}}this[C]=D?x(D)[A]:B}};s.prototype.layoutItems=function(A,B){A=this._getItemsForLayout(A);this._layoutItems(A,B);this._postLayout()};s.prototype._getItemsForLayout=function(B){var E=[];for(var C=0,A=B.length;C<A;C++){var D=B[C];if(!D.isIgnored){E.push(D)}}return E};s.prototype._layoutItems=function(D,H){if(!D||!D.length){this.emitEvent("layoutComplete",[this,D]);return}this._itemsOn(D,"layout",function G(){this.emitEvent("layoutComplete",[this,D])});var C=[];for(var E=0,B=D.length;E<B;E++){var F=D[E];var A=this._getItemLayoutPosition(F);A.item=F;A.isInstant=H;C.push(A)}this._processLayoutQueue(C)};s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};s.prototype._processLayoutQueue=function(B){for(var C=0,A=B.length;C<A;C++){var D=B[C];this._positionItem(D.item,D.x,D.y,D.isInstant)}};s.prototype._positionItem=function(B,A,D,C){if(C){B.goTo(A,D)}else{B.moveTo(A,D)}};s.prototype._postLayout=function(){var A=this._getContainerSize();if(A){this._setContainerMeasure(A.width,true);this._setContainerMeasure(A.height,false)}};s.prototype._getContainerSize=m;s.prototype._setContainerMeasure=function(A,B){if(A===undefined){return}var C=this.size;if(C.isBorderBox){A+=B?C.paddingLeft+C.paddingRight+C.borderLeftWidth+C.borderRightWidth:C.paddingBottom+C.paddingTop+C.borderTopWidth+C.borderBottomWidth}A=Math.max(A,0);this.element.style[B?"width":"height"]=A+"px"};s.prototype._itemsOn=function(H,D,I){var A=0;var G=H.length;var F=this;function C(){A++;if(A===G){I.call(F)}return true}for(var B=0,E=H.length;B<E;B++){var J=H[B];J.on(D,C)}};s.prototype.ignore=function(B){var A=this.getItem(B);if(A){A.isIgnored=true}};s.prototype.unignore=function(B){var A=this.getItem(B);if(A){delete A.isIgnored}};s.prototype.stamp=function(B){B=this._find(B);if(!B){return}this.stamps=this.stamps.concat(B);for(var C=0,A=B.length;C<A;C++){var D=B[C];this.ignore(D)}};s.prototype.unstamp=function(B){B=this._find(B);if(!B){return}for(var D=0,A=B.length;D<A;D++){var E=B[D];var C=j(this.stamps,E);if(C!==-1){this.stamps.splice(C,1)}this.unignore(E)}};s.prototype._find=function(A){if(!A){return}if(typeof A==="string"){A=this.element.querySelectorAll(A)}A=a(A);return A};s.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var C=0,A=this.stamps.length;C<A;C++){var B=this.stamps[C];this._manageStamp(B)}};s.prototype._getBoundingRect=function(){var A=this.element.getBoundingClientRect();var B=this.size;this._boundingRect={left:A.left+B.paddingLeft+B.borderLeftWidth,top:A.top+B.paddingTop+B.borderTopWidth,right:A.right-(B.paddingRight+B.borderRightWidth),bottom:A.bottom-(B.paddingBottom+B.borderBottomWidth)}};s.prototype._manageStamp=m;s.prototype._getElementOffset=function(D){var A=D.getBoundingClientRect();var C=this._boundingRect;var B=x(D);var E={left:A.left-C.left-B.marginLeft,top:A.top-C.top-B.marginTop,right:C.right-A.right-B.marginRight,bottom:C.bottom-A.bottom-B.marginBottom};return E};s.prototype.handleEvent=function(A){var B="on"+A.type;if(this[B]){this[B](A)}};s.prototype.bindResize=function(){if(this.isResizeBound){return}w.bind(f,"resize",this);this.isResizeBound=true};s.prototype.unbindResize=function(){w.unbind(f,"resize",this);this.isResizeBound=false};s.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var B=this;function A(){B.resize()}this.resizeTimeout=setTimeout(A,100)};s.prototype.resize=function(){var B=x(this.element);var A=this.size&&B;if(A&&B.innerWidth===this.size.innerWidth){return}this.layout();delete this.resizeTimeout};s.prototype.addItems=function(B){var A=this._getItems(B);if(!A.length){return}this.items=this.items.concat(A);return A};s.prototype.appended=function(B){var A=this.addItems(B);if(!A.length){return}this.layoutItems(A,true);this.reveal(A)};s.prototype.prepended=function(B){var A=this._getItems(B);if(!A.length){return}var C=this.items.slice(0);this.items=A.concat(C);this._resetLayout();this.layoutItems(A,true);this.reveal(A);this.layoutItems(C)};s.prototype.reveal=function(B){if(!B||!B.length){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];D.reveal()}};s.prototype.hide=function(B){if(!B||!B.length){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];D.hide()}};s.prototype.getItem=function(D){for(var B=0,A=this.items.length;B<A;B++){var C=this.items[B];if(C.element===D){return C}}};s.prototype.getItems=function(C){if(!C||!C.length){return}var B=[];for(var D=0,A=C.length;D<A;D++){var F=C[D];var E=this.getItem(F);if(E){B.push(E)}}return B};s.prototype.remove=function(B){B=a(B);var E=this.getItems(B);this._itemsOn(E,"remove",function(){this.emitEvent("removeComplete",[this,E])});for(var D=0,A=E.length;D<A;D++){var F=E[D];F.remove();var C=j(this.items,F);this.items.splice(C,1)}};s.prototype.destroy=function(){var C=this.element.style;C.height="";C.position="";C.width="";for(var B=0,A=this.items.length;B<A;B++){var D=this.items[B];D.destroy()}this.unbindResize();delete this.element.outlayerGUID};s.data=function(A){var B=A&&A.outlayerGUID;return B&&p[B]};function v(B,A){B.prototype[A]=h({},s.prototype[A])}s.create=function(D,B){function C(){s.apply(this,arguments)}h(C.prototype,s.prototype);v(C,"options");v(C,"settings");h(C.prototype.options,B);C.prototype.settings.namespace=D;C.data=s.data;C.Item=function A(){r.apply(this,arguments)};C.Item.prototype=new r();C.prototype.settings.item=C.Item;q(function(){var K=k(D);var E=i.querySelectorAll(".js-"+K);var L="data-"+K+"-options";for(var G=0,H=E.length;G<H;G++){var F=E[G];var I=F.getAttribute(L);var N;try{N=I&&JSON.parse(I)}catch(J){if(c){c.error("Error parsing "+L+" on "+F.nodeName.toLowerCase()+(F.id?"#"+F.id:"")+": "+J)}continue}var M=new C(F,N);if(n){n.data(F,D,M)}}});if(n&&n.bridget){n.bridget(D,C)}return C};s.Item=r;return s}if(typeof define==="function"&&define.amd){define(["classie","eventie","doc-ready","eventEmitter","get-size","matches-selector","outlayer/item"],l)}else{f.Outlayer=l(f.classie,f.eventie,f.docReady,f.EventEmitter,f.getSize,f.matchesSelector,f.Outlayer.Item)}})(window);
/*!
 * Masonry v3.0.3
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(c){var b=Array.prototype.indexOf?function(d,e){return d.indexOf(e)}:function(e,h){for(var f=0,d=e.length;f<d;f++){var g=e[f];if(g===h){return f}}return -1};function a(e,f){var d=e.create("masonry");d.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var g=this.cols;this.colYs=[];while(g--){this.colYs.push(0)}this.maxY=0};d.prototype.measureColumns=function(){var g=this._getSizingContainer();var i=this.items[0];var h=i&&i.element;if(!this.columnWidth){this.columnWidth=h?f(h).outerWidth:this.size.innerWidth}this.columnWidth+=this.gutter;this._containerWidth=f(g).innerWidth;this.cols=Math.floor((this._containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};d.prototype._getSizingContainer=function(){return this.options.isFitWidth?this.element.parentNode:this.element};d.prototype._getItemLayoutPosition=function(p){p.getSize();var m=Math.ceil(p.size.outerWidth/this.columnWidth);m=Math.min(m,this.cols);var g=this._getColGroup(m);var h=Math.min.apply(Math,g);var n=b(g,h);var l={x:this.columnWidth*n,y:h};var o=h+p.size.outerHeight;var j=this.cols+1-g.length;for(var k=0;k<j;k++){this.colYs[n+k]=o}return l};d.prototype._getColGroup=function(j){if(j===1){return this.colYs}var k=[];var l=this.cols+1-j;for(var g=0;g<l;g++){var h=this.colYs.slice(g,g+j);k[g]=Math.max.apply(Math,h)}return k};d.prototype._manageStamp=function(g){var n=f(g);var l=this._getElementOffset(g);var k=this.options.isOriginLeft?l.left:l.right;var h=k+n.outerWidth;var p=Math.floor(k/this.columnWidth);p=Math.max(0,p);var j=Math.floor(h/this.columnWidth);j=Math.min(this.cols-1,j);var o=(this.options.isOriginTop?l.top:l.bottom)+n.outerHeight;for(var m=p;m<=j;m++){this.colYs[m]=Math.max(o,this.colYs[m])}};d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var g={height:this.maxY};if(this.options.isFitWidth){g.width=this._getContainerFitWidth()}return g};d.prototype._getContainerFitWidth=function(){var h=0;var g=this.cols;while(--g){if(this.colYs[g]!==0){break}h++}return(this.cols-h)*this.columnWidth-this.gutter};d.prototype.resize=function(){var g=this._getSizingContainer();var i=f(g);var h=this.size&&i;if(h&&i.innerWidth===this._containerWidth){return}this.layout();delete this.resizeTimeout};return d}if(typeof define==="function"&&define.amd){define(["outlayer","get-size"],a)}else{c.Masonry=a(c.Outlayer,c.getSize)}})(window);